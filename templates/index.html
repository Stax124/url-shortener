{% extends "base.html" %} {% block content %}

<div class="main-container">
  <div class="center-container">
    <h2>URL Shortener</h2>
    {% if short_url %}
    <div class="short-url-container">
      <p>
        Your short URL:
        <a href="{{ short_url }}" id="short-url-text">{{ short_url }}</a>
      </p>
      <button onclick="copyShortUrl" class="copy-button">Copy</button>
    </div>
    {% else %}
    <form action="/generate-url" method="post">
      <div class="generate-url-container">
        <input
          type="text"
          name="url"
          placeholder="Enter URL"
          class="login-input"
        />
        <button type="submit" class="login-button">Generate</button>
      </div>
    </form>
    {% endif %}
  </div>
</div>

<script>
  function copyShortUrl() {
    const copyTextEl = document.getElementById("short-url-text");
    const text = copyTextEl.textContent;

    navigator.clipboard.writeText(copyText.value);

    console.log("Copied to clipboard: " + text);
  }
</script>
{% endblock %}
